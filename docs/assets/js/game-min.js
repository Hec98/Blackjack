const myModule=(()=>{"use strict";let e=[];const t=["C","D","H","S"],l=["A","J","Q","K"];let r=[];document.querySelector("#btnNew");const n=document.querySelector("#btnRequest"),s=document.querySelector("#btnStop"),o=document.querySelectorAll(".divCards"),d=document.querySelectorAll("small"),c=()=>{e=[];for(let l=2;l<=10;l++)for(let r of t)e.push(l+r);for(let r of t)for(let t of l)e.push(t+r);return _.shuffle(e)},a=()=>{if(0===e.length)throw"There are no cards in the deck";return e.shift()},i=(e,t)=>(r[t]+=(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t})(e),d[t].innerHTML=r[t],r[t]),u=(e,t)=>{const l=document.createElement("img");l.src=`assets/cards/${e}.png`,l.alt=e,l.classList.add("cardD"),o[t].append(l)},h=e=>{let t=0;do{const e=a();t=i(e,r.length-1),u(e,r.length-1)}while(t<e&&e<=21);(()=>{const[e,t]=r;setTimeout(()=>{t===e?alert("Nobody wins :("):r>21?alert("Computer wins"):t>21?alert("Player wins"):alert("Computer wins")},10)})()};return n.addEventListener("click",()=>{const e=a(),t=i(e,0);u(e,0),t>21?(console.log("You lost"),n.disabled=!0,s.disabled=!0,h(t)):21===t&&(console.log("21. Great!"),n.disabled=!0,s.disabled=!0,h(t))}),s.addEventListener("click",()=>{n.disabled=!0,s.disabled=!0,h(r)}),{newGame:(t=2)=>{e=c(),r=[];for(let e=0;e<t;e++)r.push(0);d.forEach(e=>e.innerText=0),o.forEach(e=>e.innerHTML=""),n.disabled=!1,s.disabled=!1}}})();
